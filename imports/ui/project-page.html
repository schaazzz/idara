<template name="projectPage">
    <div class="row">
        <div class="col-xs-12">
            <h3 class="page-header">{{project.name}}
                {{#if editingAllowed}}
                    <a href="#nolink" id="a-config-project" class="pull-right" style="font-size: 20px; margin-left: 5px;">
                        <span class="pull-right glyphicon glyphicon-cog" style="margin-top: 13px;"></span>
                    </a>
                {{/if}}
                <a href="#nolink" id="a-project-stats" class="pull-right" style="font-size: 20px; margin-left: 5px;">
                    <span class="pull-right glyphicon glyphicon-stats" style="margin-top: 13px;"></span>
                </a>
                {{#if and addingIssuesAllowed projetHasEpics}}
                <a href="#nolink" id="a-project-board" class="pull-right" style="font-size: 20px; margin-left: 5px;">
                    <span class="pull-right glyphicon glyphicon-blackboard" style="margin-top: 13px;"></span>
                </a>
                {{/if}}
            </h3>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="well well-lg">
                <p>{{project.description}}</p>
                <hr>
                <small class="text-muted">(Project admin: <strong>{{project.admin}}</strong>)</small>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            {{#if addingIssuesAllowed}}
                <button id="new-issue" class="btn btn-info" style="margin-right: 5px;">
                    <span class="glyphicon glyphicon-plus"></span>
                    &nbsp;New Issue
                </button>
            {{/if}}
            {{#if and addingIssuesAllowed projetHasEpics}}
                <button id="new-epic" class="btn btn-danger">
                    <span class="glyphicon glyphicon-plus"></span>
                    &nbsp;New Epic
                </button>
            {{/if}}
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <h3 class="pull-right" style="margin-bottom: 5px;">Epics</h3>
        </div>
        <hr width="25%" align="right" style="border: 1px solid #333333; margin-right: 13px !important">
    </div>
    <div class="row" style="padding-top: 0px;">
        <div class="col-xs-12">
            <table class="table table-responsive table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Title</th>
                        <th>Priority</th>
                        <th>State</th>
                        <th>Responsible</th>
                        <th>Progress</th>
                        <th>Created At</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each epic in epics}}
                        <tr>
                            <td><a name="a-epic-page" href="#nolink" id="{{epic.number}}">{{epic.number}}</a></td>
                            <td><a name="a-epic-page" href="#nolink" id="{{epic.number}}">{{epic.title}}</a></td>
                            <td>{{epic.priority}}</td>
                            <td>{{epic.state}}</td>
                            <td><a name="a-user-id" href="#nolink" id="{{epic.responsible}}">{{epic.responsible}}</a></td>
                            <td>{{epic.progress}} %</td>
                            <td>{{epic.createdAt}}</td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="col-xs-12">
            <h3 class="pull-right" style="margin-bottom: 5px;">Issues</h3>
        </div>
        <hr width="25%" align="right" style="border: 1px solid #333333; margin-right: 13px !important">
    </div>
    <div class="row" style="padding-top: 0px;">
        <div class="col-xs-12">
            <table class="table table-responsive table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Title</th>
                        <th>Tracker</th>
                        <th>State</th>
                        <th>Responsible</th>
                        <th>Due Date</th>
                        <th>Created At</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each issue in issues}}
                        <tr>
                            <td><a name="a-issue-page" href="#nolink" id="{{issue.number}}">{{issue.number}}</a></td>
                            <td><a name="a-issue-page" href="#nolink" id="{{issue.number}}">{{issue.title}}</a></td>
                            <td>{{issue.tracker}}</td>
                            <td>{{issue.state}}</td>
                            <td><a name="a-user-id" href="#nolink" id="{{issue.responsible}}">{{issue.responsible}}</a></td>
                            <td>{{issue.dueDate}}</td>
                            <td>{{issue.createdAt}}</td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</template>
